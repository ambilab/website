---
import { SITE } from '@config/site';

interface SocialLink {
    name: string;
    url: string;
}

const socialLinks: SocialLink[] = [{ name: 'GitHub', url: SITE.SOCIAL.GITHUB }];
---

<div class="flex flex-wrap gap-1">
    {
        socialLinks.map((link) => (
            <a
                href={link.url}
                target="_blank"
                rel="noopener noreferrer"
                class="border border-zinc-200 px-[7px] py-[5px]"
                data-track-platform={link.name}
            >
                {link.name}
            </a>
        ))
    }
</div>

<script>
    document.querySelectorAll<HTMLAnchorElement>('[data-track-platform]').forEach((link) => {
        link.addEventListener('click', () => {
            const platform = link.dataset.trackPlatform;
            if (platform && typeof window.plausible === 'function') {
                try {
                    window.plausible('Social Link Click', { props: { platform } });
                } catch {
                    // Silently swallow tracking errors.
                }
            }
        });
    });
</script>
