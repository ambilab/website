@reference "../styles/global.css";

/* MDX Content Styling */
.mdx-content {
  /* Links with external indicator */
  & a:not(.anchor) {
    @apply relative font-medium text-blue-600 underline underline-offset-4 transition-colors hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300;

    /* External links get arrow indicator */
    &[href^='http']::after,
    &[href^='https']::after {
      @apply ml-1 inline-block text-xs content-['â†—'];
    }
  }

  /* Headings with anchor links */
  & h1,
  & h2,
  & h3,
  & h4 {
    @apply relative scroll-mt-20 font-bold;

    & .anchor {
      @apply absolute -left-6 opacity-0 transition-opacity no-underline text-gray-400 dark:text-gray-600;
    }

    &:hover .anchor {
      @apply opacity-100;
    }
  }

  & h1 {
    @apply text-4xl mt-8 mb-4;
  }

  & h2 {
    @apply text-3xl mt-12 mb-4 pt-8 border-t border-gray-200 dark:border-gray-800;
  }

  & h3 {
    @apply text-2xl font-semibold mt-8 mb-3;
  }

  & h4 {
    @apply text-xl font-semibold mt-6 mb-2;
  }

  /* Paragraphs and lists */
  & p {
    @apply mb-4 leading-relaxed;
  }

  & ul,
  & ol {
    @apply mb-4 pl-6;
  }

  & ul li {
    @apply list-disc mb-2;
  }

  & ol li {
    @apply list-decimal mb-2;
  }

  /* Nested lists */
  & ul ul,
  & ol ul {
    @apply mt-2 mb-2;
  }

  & ul ol,
  & ol ol {
    @apply mt-2 mb-2;
  }

  /* Inline code (Expressive Code handles code blocks) */
  & p code,
  & li code,
  & td code {
    @apply rounded px-1.5 py-0.5 text-sm bg-gray-100 text-gray-900 dark:bg-gray-800 dark:text-gray-100 font-mono;
  }

  /* Code blocks are handled by Expressive Code */
  & pre {
    @apply my-6 rounded-lg overflow-x-auto;
  }

  /* Images */
  & img {
    @apply rounded-lg my-4 max-w-full h-auto;
  }

  & figure {
    @apply my-6;

    & figcaption {
      @apply mt-2 text-center text-sm text-gray-600 dark:text-gray-400;
    }
  }

  /* Blockquotes */
  & blockquote {
    @apply border-l-4 border-blue-500 pl-4 my-4 italic text-gray-700 dark:text-gray-300;

    & p {
      @apply mb-2;
    }
  }

  /* Tables */
  & table {
    @apply w-full my-4 border-collapse;

    & th {
      @apply text-left font-semibold p-2 border-b-2 border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900;
    }

    & td {
      @apply p-2 border-b border-gray-200 dark:border-gray-800;
    }

    & tr:last-child td {
      @apply border-b-0;
    }
  }

  /* Horizontal rule */
  & hr {
    @apply my-8 border-t border-gray-200 dark:border-gray-800;
  }

  /* Strong and emphasis */
  & strong {
    @apply font-bold text-gray-900 dark:text-gray-100;
  }

  & em {
    @apply italic;
  }

  /* Abbreviations */
  & abbr {
    @apply cursor-help border-b border-dotted border-gray-400 dark:border-gray-600;
  }

  /* Mark/highlight */
  & mark {
    @apply bg-yellow-200 dark:bg-yellow-800 px-1 rounded;
  }

  /* Keyboard input */
  & kbd {
    @apply px-2 py-1 text-sm font-mono bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded shadow-sm;
  }

  /* Details/summary */
  & details {
    @apply my-4 p-4 border border-gray-200 dark:border-gray-800 rounded-lg;

    & summary {
      @apply cursor-pointer font-semibold select-none;
    }

    &[open] summary {
      @apply mb-2;
    }
  }

  /* Subscript and superscript */
  & sub,
  & sup {
    @apply text-xs;
  }

  & sub {
    @apply align-sub;
  }

  & sup {
    @apply align-super;
  }
}

